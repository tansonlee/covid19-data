(this["webpackJsonpcovid19-data-tracker"]=this["webpackJsonpcovid19-data-tracker"]||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){},199:function(e,a,t){},200:function(e,a,t){},203:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t(0),c=t.n(n),s=t(66),o=t.n(s),i=t(4),d=t.n(i),l=t(8),u=t(67),p=t(68),b=t(74),h=t(73),j=(t(82),t(21)),m=t.n(j),v="https://api.opencovid.ca/summary",f="2020-08-01",x=function(){var e=Object(l.a)(d.a.mark((function e(a){var t,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(v,"?loc=").concat(a));case 3:return t=e.sent,r={cases:t.data.summary[0].cumulative_cases,recoveries:t.data.summary[0].cumulative_recovered,deaths:t.data.summary[0].cumulative_deaths,date:t.data.summary[0].date},e.next=7,m.a.get("".concat(v,"?loc=").concat(a,"&after=").concat(f));case 7:return n=e.sent,c=n.data.summary.map((function(e){return{cases:e.cumulative_cases,recovered:e.cumulative_recovered,deaths:e.cumulative_deaths,date:e.date}})),e.abrupt("return",{todayData:r,dataSeries:c});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(d.a.mark((function e(a){var t,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(v,"?loc=").concat(a));case 3:return t=e.sent,r={cases:t.data.summary[0].cases,recoveries:t.data.summary[0].recovered,deaths:t.data.summary[0].deaths,date:t.data.summary[0].date},e.next=7,m.a.get("".concat(v,"?loc=").concat(a,"&after=").concat(f));case 7:return n=e.sent,c=n.data.summary.map((function(e){return{cases:e.cases,recovered:e.recovered,deaths:e.deaths,date:e.date}})),console.log(n),e.abrupt("return",{todayData:r,dataSeries:c});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}(),g=(t(100),function(e){var a=e.split("-"),t="";return t+={"01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"}[a[1]],t+=" ",t+=a[0],t+=", ",t+=a[2]}),N=(t(101),t(28)),w=function(e){var a=e.props,t=a.dataSeries,n=a.borderCol,c=a.backgroundCol;if(t===[])return"Loading...";var s=t.map((function(e,a){if(0===a||a===t.length-1)return e;var r=(t[a-1]+t[a+1])/2;return Math.round((8*r+e)/9)})),o=[];s.forEach((function(e,a){a%2===0&&o.push(e)}));var i=0!==t.length?Object(r.jsx)(N.Line,{data:{labels:o.map((function(e){return""})),datasets:[{data:o,label:"smoothened data",borderColor:n,backgroundColor:c,fill:!0,pointRadius:1,pointHitRadius:10}]},options:{responsive:!0,tooltips:{enabled:!1},hover:{mode:null},scaleShowLabels:!1,scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},legend:{display:!1}}}):"Loading...";return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"small-chart-wrapper",children:i})})},k=function(e){var a=e.props,t=a.todayData,n=a.dataSeries,c=a.mode;if(t==={}||0===n.length)return"Loading...";var s=Object(r.jsx)(w,{props:{dataSeries:n.map((function(e){return e.cases})),borderCol:"rgba(0, 0, 255, 1)",backgroundCol:"rgba(0, 0, 255, 0.5)"}}),o=Object(r.jsx)(w,{props:{dataSeries:n.map((function(e){return e.recovered})),borderCol:"rgba(0, 255, 0, 1)",backgroundCol:"rgba(0, 255, 0, 0.5)"}}),i=Object(r.jsx)(w,{props:{dataSeries:n.map((function(e){return e.deaths})),borderCol:"rgba(255, 0, 0, 1)",backgroundCol:"rgba(255, 0, 0, 0.5)"}});return 0!==n.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{className:"latest-date",children:["Latest data from: ",g(t.date)]}),Object(r.jsxs)("div",{className:"cards-wrapper",children:[Object(r.jsxs)("div",{className:"card-wrapper cases-card",children:[Object(r.jsx)("h3",{className:"card-title",children:"cumulative"===c?"Total Cases":"Cases Today"}),Object(r.jsx)("p",{className:"card-stat",children:t.cases.toLocaleString()}),s,Object(r.jsx)("p",{className:"small-chart-description",children:"Interpolated to see trend"})]}),Object(r.jsxs)("div",{className:"card-wrapper recoveries-card",children:[Object(r.jsx)("h3",{className:"card-title",children:"cumulative"===c?"Total Recoveries":"Recoveries Today"}),Object(r.jsx)("p",{className:"card-stat",children:t.recoveries.toLocaleString()}),o,Object(r.jsx)("p",{className:"small-chart-description",children:"Interpolated to see trend"})]}),Object(r.jsxs)("div",{className:"card-wrapper deaths-card",children:[Object(r.jsx)("h3",{className:"card-title",children:"cumulative"===c?"Total Deaths":"Deaths Today"}),Object(r.jsx)("p",{className:"card-stat",children:t.deaths.toLocaleString()}),i,Object(r.jsx)("p",{className:"small-chart-description",children:"Interpolated to see trend"})]})]})]}):"Loading..."},y=(t(199),function(e){var a=e.dataSeries;if(a===[])return"Loading...";var t=0!==a.length?Object(r.jsx)(N.Line,{className:"chart",data:{labels:a.map((function(e){var a=e.date;return g(a)})),datasets:[{data:a.map((function(e){return e.cases})),label:"Cases",borderColor:"rgb(0, 0, 255)",backgroundColor:"rgba(0, 0, 255, 0.3)",fill:!0,pointRadius:1,pointHitRadius:10},{data:a.map((function(e){return e.recovered})),label:"Recoveries",borderColor:"rgb(0, 255, 0)",backgroundColor:"rgba(0, 255, 0, 0.4)",fill:!0,pointRadius:1,pointHitRadius:10},{data:a.map((function(e){return e.deaths})),label:"Deaths",borderColor:"rgb(255, 0, 0)",backgroundColor:"rgba(255, 0, 0, 0.5)",fill:!0,pointRadius:1,pointHitRadius:10}]},options:{responsive:!0,scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:20,fontColor:"rgba(255, 255, 255, 0.7)"},gridLines:{zeroLineColor:"rgba(255, 255, 255, 0.7)",color:"rgba(255, 255, 255, 0.2)"}}],yAxes:[{ticks:{autoSkip:!0,maxTicksLimit:20,fontColor:"rgba(255, 255, 255, 0.7)",callback:function(e,a,t){return e.toLocaleString()}},scaleLabel:{display:!0},gridLines:{zeroLineColor:"rgba(255, 255, 255, 0.7)",color:"rgba(255, 255, 255, 0.2)"}}]},legend:{labels:{filter:function(e,a){return!e.text.includes("lerped")},fontColor:"rgba(255, 255, 255, 0.9)",fontSize:16}}}}):"Loading...";return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"chart-wrapper",children:[Object(r.jsx)("h3",{className:"chart-title",children:"COVID-19 Data from August 1, 2020 to Present"}),Object(r.jsx)("p",{children:"Click the legend below to hide/unhide data"}),t]})})}),C=(t(200),t(221)),S=t(220),L=function(e){var a=e.onLocationChange;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(C.a,{className:"dropdown",children:Object(r.jsxs)(S.a,{className:"dropdown-select",inputProps:{classes:{icon:"arrow"}},defaultValue:"canada",onChange:function(e){return a(e.target.value)},children:[Object(r.jsx)("option",{value:"canada",children:" Canada"}),Object(r.jsx)("option",{value:"AB",children:" Alberta"}),Object(r.jsx)("option",{value:"BC",children:" British Columbia"}),Object(r.jsx)("option",{value:"MB",children:" Manitoba"}),Object(r.jsx)("option",{value:"NB",children:" New Brunswick"}),Object(r.jsx)("option",{value:"NL",children:" Newfoundland and Labrador"}),Object(r.jsx)("option",{value:"NT",children:" Northwest Territories"}),Object(r.jsx)("option",{value:"NS",children:" Nova Scotia"}),Object(r.jsx)("option",{value:"NU",children:" Nunavut"}),Object(r.jsx)("option",{value:"ON",children:" Ontario"}),Object(r.jsx)("option",{value:"nd",children:" Prince Edward Island"}),Object(r.jsx)("option",{value:"QC",children:" Quebec"}),Object(r.jsx)("option",{value:"SK",children:" Saskatchewan"}),Object(r.jsx)("option",{value:"YT",children:" Yukon"})]})})})},D=function(e){Object(b.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).state={todayData:{},dataSeries:[],mode:"cumulative",location:"canada"},e.fetchData=Object(l.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("change"!==e.state.mode){a.next=6;break}return a.next=3,O(e.state.location);case 3:t=a.sent,a.next=9;break;case 6:return a.next=8,x(e.state.location);case 8:t=a.sent;case 9:e.setState({todayData:t.todayData,dataSeries:t.dataSeries});case 10:case"end":return a.stop()}}),a)}))),e.changeLocation=function(){var a=Object(l.a)(d.a.mark((function a(t){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({location:t},Object(l.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.fetchData();case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)}))));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.todayData,c=t.dataSeries,s=t.location,o=t.mode;return this.state.data==={}||this.dataSeries===[]?"Loading...":Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{className:"title",children:"COVID-19 Data Tracker"}),Object(r.jsxs)("div",{className:"controls-wrapper",children:[Object(r.jsx)(L,{onLocationChange:this.changeLocation}),Object(r.jsxs)("div",{className:"button-wrapper",children:[Object(r.jsx)("button",{className:"change"===this.state.mode?"selected-btn":"mode-btn",onClick:Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({mode:"change"},Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),children:"New/Daily"}),Object(r.jsx)("button",{className:"cumulative"===this.state.mode?"selected-btn":"mode-btn",onClick:Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({mode:"cumulative"},Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),children:"Total/Cumulative"})]})]}),Object(r.jsx)("h2",{className:"location",children:(e=s,{canada:"Canada",AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NT:"Northwest Territories",NS:"Nova Scotia",NU:"Nunavut",ON:"Ontario",nd:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"}[e])}),Object(r.jsx)(k,{props:{todayData:n,dataSeries:c,mode:o}}),Object(r.jsx)(y,{dataSeries:c}),Object(r.jsxs)("div",{className:"information",children:[Object(r.jsx)("p",{children:"Made by Tanson Lee with React.js"}),Object(r.jsxs)("p",{className:"smaller-text",children:["Link to the code and more information about this project on GitHub here:"," ",Object(r.jsx)("a",{className:"code-link",href:"https://github.com/tansonlee/covid19-data",target:"_blank",rel:"noopener noreferrer",children:"Code"})]})]})]})}}]),t}(c.a.Component);o.a.render(Object(r.jsx)(D,{}),document.getElementById("root"))},82:function(e,a,t){}},[[203,1,2]]]);
//# sourceMappingURL=main.24022045.chunk.js.map